---
description: |
  Developing a corporate color palette for ggplot2
title: Custom Color Palette for ggplot2
weight: 8
---

<link href="/rmarkdown-libs/anchor-sections/anchor-sections.css" rel="stylesheet" />
<script src="/rmarkdown-libs/anchor-sections/anchor-sections.js"></script>


<p>Last updated 2020-12-29.</p>
<p>I’m describing customizing my own color palette for ggplot2. This is based off of <a href="https://drsimonj.svbtle.com/creating-corporate-colour-palettes-for-ggplot2">Creating corporate colour palettes for ggplot2</a> by <a href="https://twitter.com/drsimonj">drsimonj</a>.</p>
<p>First, find a bunch of colors that you like. <a href="https://www.canva.com/">Canva</a> is a good place to go for inspiration; or, us this <a href="https://color.adobe.com/create/image">tool from Adobe Color</a> that will extract colors from a photo you like. Then, there’s always <a href="https://colorbrewer2.org/#type=sequential&amp;scheme=BuGn&amp;n=3">colorbrewer2</a>.</p>
<p><em>Note: In many cases, you can get away with using the <code>scale_color_manual()</code> and <code>scale_fill_manual()</code> functions directly within ggplot2. See <a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">the docs</a> for examples.</em></p>
<p>Define colors</p>
<pre class="r"><code>rjfranssen_colors &lt;- c(
  `ebony` = &quot;#1E2225&quot;,
  `blue_grotto` = &quot;#05263B&quot;,
  `charcoal` = &quot;#43758A&quot;,
  `light_sea_green` = &quot;#36B4AF&quot;,
  `pewter` = &quot;#D3DADA&quot;,
  `carafe` = &quot;#55423A&quot;,
  `goldenrod` = &quot;#F1B416&quot;,
  `burnt_sienna` = &quot;#E56A19&quot;,
  `crimson` = &quot;#900000&quot;)</code></pre>
<p>Function to extract colors as hex codes (source: <a href="https://drsimonj.svbtle.com/creating-corporate-colour-palettes-for-ggplot2">drsimonj</a>)</p>
<pre class="r"><code>rjfranssen_cols &lt;- function(...) {
  cols &lt;- c(...)

  if (is.null(cols))
    return (rjfranssen_colors)

  rjfranssen_colors[cols]
}</code></pre>
<p>Examples of returning specific color codes. The <code>scales</code> package has a convenient <code>show_col()</code> function for this:</p>
<pre class="r"><code>library(scales)
library(dplyr)

par(mfrow=c(1,2))
rjfranssen_cols() %&gt;% show_col()
rjfranssen_cols(&quot;light_sea_green&quot;, &quot;burnt_sienna&quot;) %&gt;% show_col()</code></pre>
<p><img src="/docs/custom-color-palette_files/figure-html/examples-1.png" width="672" /></p>
<p>Simply plot example.</p>
<pre class="r"><code>ggplot(mtcars, aes(hp, mpg)) +
    geom_point(color = rjfranssen_cols(&quot;goldenrod&quot;),
               size = 4, alpha = .8)</code></pre>
<p><img src="/docs/custom-color-palette_files/figure-html/simpltplot-1.png" width="672" /></p>
<p>Now, combine sets of colors into individual palettes.</p>
<pre class="r"><code>rjfranssen_palettes &lt;- list(
  
  `primary`  = rjfranssen_cols(&quot;ebony&quot;, &quot;blue_grotto&quot;, &quot;charcoal&quot;, &quot;light_sea_green&quot;, &quot;pewter&quot;),

  `secondary`  = rjfranssen_cols(&quot;carafe&quot;, &quot;goldenrod&quot;, &quot;burnt_sienna&quot;, &quot;crimson&quot;),

  `all`   = rjfranssen_cols(&quot;ebony&quot;, &quot;blue_grotto&quot;, &quot;charcoal&quot;, &quot;light_sea_green&quot;, &quot;pewter&quot;, &quot;carafe&quot;, &quot;goldenrod&quot;, &quot;burnt_sienna&quot;, &quot;crimson&quot;)
)</code></pre>
<p>Function to interpolate the palettes (source: <a href="https://drsimonj.svbtle.com/creating-corporate-colour-palettes-for-ggplot2">drsimonj</a>). Option to padd additional arguments into <code>colorRampPallete()</code> like <code>alpha</code>.</p>
<pre class="r"><code>rjfranssen_pal &lt;- function(palette = &quot;main&quot;, reverse = FALSE, ...) {
  pal &lt;- rjfranssen_palettes[[palette]]

  if (reverse) pal &lt;- rev(pal)

  colorRampPalette(pal, ...)
}</code></pre>
<p>Preview the palettes, e.g. applying 10 levels to the <code>primary</code> color palette. Again using <code>scales::show_col()</code> to display the colors with hex codes.</p>
<pre class="r"><code>par(mfrow=c(1,2))

rjfranssen_pal(&quot;primary&quot;)(12) %&gt;% show_col()
rjfranssen_pal(&quot;secondary&quot;)(4) %&gt;% show_col()</code></pre>
<p><img src="/docs/custom-color-palette_files/figure-html/showinterp-1.png" width="672" /></p>
<p>Everything that’s been up to this point is creating a storage places for favorite colors. Now, prepare some functions specifically for using with <code>ggplot</code>.</p>
<pre class="r"><code>scale_color_rjfranssen &lt;- function(palette = &quot;main&quot;,
           discrete = TRUE,
           reverse = FALSE,
           ...) {
    pal &lt;- rjfranssen_pal(palette = palette, reverse = reverse)
    
    if (discrete) {
      discrete_scale(&quot;colour&quot;, paste0(&quot;rjfranssen_&quot;, palette), palette = pal, ...)
    } else {
      scale_color_gradientn(colours = pal(256), ...)
    }
}

scale_fill_rjfranssen &lt;- function(palette = &quot;main&quot;, discrete = TRUE, reverse = FALSE, ...) {
  pal &lt;- rjfranssen_pal(palette = palette, reverse = reverse)

  if (discrete) {
    discrete_scale(&quot;fill&quot;, paste0(&quot;rjfranssen_&quot;, palette), palette = pal, ...)
  } else {
    scale_fill_gradientn(colours = pal(256), ...)
  }
}</code></pre>
<p>Done - now plotting a few examples.</p>
<pre class="r"><code>ggplot(iris, aes(Sepal.Width, Sepal.Length, color = Sepal.Length)) +
    geom_point(size = 4, alpha = .6) +
    scale_color_rjfranssen(discrete = FALSE, palette = &quot;primary&quot;)</code></pre>
<p><img src="/docs/custom-color-palette_files/figure-html/exampletwo-1.png" width="672" /></p>
<pre class="r"><code>ggplot(iris, aes(Sepal.Width, Sepal.Length, color = Species)) +
    geom_point(size = 4) +
    scale_color_rjfranssen(&quot;secondary&quot;)</code></pre>
<p><img src="/docs/custom-color-palette_files/figure-html/exampleone-1.png" width="672" /></p>
<pre class="r"><code>ggplot(mpg, aes(manufacturer, fill = manufacturer)) +
    geom_bar() +
    theme(axis.text.x = element_text(angle = 45, hjust = 1)) +
    scale_fill_rjfranssen(palette = &quot;all&quot;, guide = &quot;none&quot;)</code></pre>
<p><img src="/docs/custom-color-palette_files/figure-html/examplethree-1.png" width="672" /></p>
<p>Finally, I want to be able to pull down my palette whereever I am, so I copied the above R code into <code>rjfranssen_col_pal.r</code> and pushed it to my <a href="https://github.com/rjfranssen/rjfranssen">GitHub repo</a>. I can read it down using <code>devtools</code> as an <a href="https://stackoverflow.com/questions/35720660/how-to-use-an-r-script-from-github">r file</a> or as a <a href="https://gist.github.com/jtoll/4041987">gist</a>. <a href="https://rstudio.com/wp-content/uploads/2015/03/devtools-cheatsheet.pdf">(devtools cheatsheet)</a></p>
<pre class="r"><code>library(devtools)
source_url(&quot;https://raw.githubusercontent.com/rjfranssen/rjfranssen/main/utils/rjfranssen_col_pal.r&quot;)</code></pre>
